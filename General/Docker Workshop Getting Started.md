<ac:layout><ac:layout-section ac:type="single"><ac:layout-cell><p><em>Copyright (c) 2016 Clarence Bakirtzidis and Kiruthika Samapathy. Provided for personal use only and not to be copied or distributed.</em></p></ac:layout-cell></ac:layout-section><ac:layout-section ac:type="single"><ac:layout-cell><p>&nbsp;</p></ac:layout-cell></ac:layout-section><ac:layout-section ac:type="single"><ac:layout-cell><h1>Docker Tutorial</h1><p><em>This tutorial is based on Docker v1.12.2</em></p><h2>Copy the USB stick contents to your laptop</h2><p>Copy the following files/directories copied onto your laptop:</p><ul><li>installers/</li><li>usb-stick.zip</li></ul><p>Unzip the file:&nbsp;<code>usb-stick.zip</code></p><ul><li>You will see that a directory called&nbsp;<code>usb-stick</code>&nbsp;is created.</li></ul><h2>Setup Local Environment</h2><h3>Mac OS X</h3><p>The necessary installers are in the&nbsp;<code>installers/mac_osx</code>&nbsp;directory.</p><p>Install the pre-requisites:</p><ul><li><strong>VirtualBox</strong>&nbsp;(install this first even though DockerToolbox includes it)</li><li><strong>DockerToolbox</strong></li></ul><p>Open a terminal to get to the command-line interface:</p><ul><li>Use the&nbsp;<code>terminal</code>&nbsp;app or equivalent (e.g.&nbsp;<code>iterm</code>)</li></ul><h3>Windows</h3><p>The necessary installers are in the&nbsp;<code>installers/windows</code>&nbsp;directory.</p><p>Install the pre-requisites (reboot your machine if prompted by the installers):</p><ul><li><strong>VirtualBox</strong>&nbsp;(install this first even though DockerToolbox includes it)</li><li><strong>DockerToolbox</strong></li><li>(Optional)&nbsp;<strong>Chrome Browser</strong><ul><li>If you only have Internet Explorer or Microsoft Edge then install the&nbsp;<strong>Chrome</strong>&nbsp;browser from&nbsp;<code>installers\windows\ChromeStandaloneSetup64.exe</code></li><li>IE/Edge's default security settings prevent loading of local addresses in the browser</li><li>If you already have Firefox or another browser that will work too</li></ul></li></ul><p><strong>DockerToolbox</strong>&nbsp;install notes:</p><ul><li>Choose default install location:&nbsp;<code>C:\Program Files\Docker Toolbox</code></li><li>On&nbsp;<strong>Selected Components</strong>, ensure the following components are checked (to be installed):<ul><li>Docker Client for Windows</li><li>Docker Machine for Windows</li><li>Docker Compose for Windows</li><li>VirtualBox (this should be selected if you already installed VirtualBox earlier)</li><li>Git for Windows</li></ul></li><li>Choose defaults on all the other steps</li></ul><p>Open a terminal to get to the command-line interface:</p><ul><li>Use&nbsp;<code>Git Bash</code>&nbsp;which presents a Bash-like shell</li><li><a href="https://github.com/rprichard/winpty">winpty</a>&nbsp;is required from some commands that expect a Unix-like pty interface (e.g.&nbsp;<code>winpty docker exec -ti &lt;image&gt;</code>)</li><li>In the terminal window, type:&nbsp;<code>winpty bash</code>&nbsp;and press&nbsp;<code>ENTER</code>&nbsp;so that you do not need to prefix the individual commands you type</li></ul><h2>Create 3-node Docker cluster</h2><p>Change into the&nbsp;<code>usb-stick</code>&nbsp;directory where you unzipped the file&nbsp;<code>usb-stick.zip</code>:</p><div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="kw" style="color: rgb(0,112,32);">cd</span> <span class="kw" style="color: rgb(0,112,32);">&lt;</span>tutorial_dir<span class="kw" style="color: rgb(0,112,32);">&gt;</span>/usb-stick</code></pre></div><p>Create the cluster:</p><div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="kw" style="color: rgb(0,112,32);">./attendee.sh</span> up</code></pre></div><div class="info-box information"><p><strong>Info:</strong>&nbsp;It will take approximately 3 to 4 minutes</p></div><p>Verify the cluster is ready:</p><div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="kw" style="color: rgb(0,112,32);">./attendee.sh</span> status</code></pre></div><p>You can now work on the tutorial&nbsp;<strong>Exercises</strong>&nbsp;below.</p><h2>Windows-specific notes/issues:</h2><ul><li>When running&nbsp;<code>docker build</code>&nbsp;you may see a warning like this:</li><li><em>&quot;SECURITY WARNING: You are building a Docker image from Windows against a non-Windows Docker host. All files and directories added to build context will have '-rwxr-xr-x' permissions. It is recommended to double check and reset permissions for sensitive files and directories.&quot;</em></li><li>Just ignore this warning as the image will still be built successfully.</li><li>Auto-removal of containers with&nbsp;<code>docker run --rm</code>&nbsp;won't work when you press&nbsp;<code>CTRL+C</code>&nbsp;on Windows</li><li>The container will still be there.</li><li>Manually remove the container with&nbsp;<code>docker kill &lt;container-id&gt;</code>&nbsp;and then&nbsp;<code>docker rm &lt;container-id&gt;</code>.</li><li>In Parts 2 and 3 when deploying the&nbsp;<code>vote:v2</code>&nbsp;container with changed CSS styles, you will need to use&nbsp;<code>CTRL+SHIFT+R</code>&nbsp;to force a reload of page to see the new styles.</li></ul><h2>Exercises</h2><ul><li><a href="https://confluence/exercises/01-intro/README.html">01-intro</a>&nbsp;-- Try out the voting app</li><li><a href="https://confluence/exercises/02-basics/README.html">02-basics</a>&nbsp;-- Learn about the Docker CLI and basic Docker usage</li><li><a href="https://confluence/exercises/03-advanced-clustering/README.html">02-advanced-clustering</a>&nbsp;-- Learn about advanced concepts of Docker - Clustering</li><li><a href="https://confluence/exercises/03-advanced-logging/README.html">03-advanced-logging</a>&nbsp;-- Learn about advanced concepts of Docker - Logging</li><li><a href="https://confluence/exercises/03-advanced-monitoring/README.html">03-advanced-monitoring</a>&nbsp;-- Learn about advanced concepts of Docker - Monitoring</li></ul><h2>Teardown</h2><p>When you have completed all the tutorial exercises, delete the cluster:</p><div class="sourceCode"><pre class="sourceCode sh"><code class="sourceCode bash"><span class="kw" style="color: rgb(0,112,32);">./attendee.sh</span> down</code></pre></div><div class="info-box information"><p><strong>Info:</strong>&nbsp;Press 'Y' when prompted</p></div></ac:layout-cell></ac:layout-section></ac:layout>